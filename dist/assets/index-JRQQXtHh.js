import{r as o,a as N,j as t}from"./index-nEBRHmkM.js";import{H as E,F as D}from"./index-B12LLSzU.js";import{g as S,a as w,h as I,m as L,b as V,c as F,f as R,V as k}from"./index-DxTPL8H9.js";import{p as A,f as B}from"./parseISO-C7yGKLZ3.js";const H="_container_31r8k_1",c={container:H},M="_detail_sjpf8_1",P="_title_sjpf8_6",T="_info_sjpf8_15",U="_description_sjpf8_29",$="_cover_sjpf8_40",b="_content_sjpf8_51",e={detail:M,title:P,info:T,description:U,cover:$,content:b},O={VITE_BASE_URL:"http://localhost:3001/api"};let{VITE_BASE_URL:Z}=O;function q(){const[s,r]=o.useState({title:"",description:"",cover:null,content:"",category_id:0,category_name:"",author:"",updated_at:""}),[z,i]=o.useState(!0),{id:a}=N();if(o.useEffect(()=>{async function p(){try{const _=await(await fetch(`http://localhost:3001/api/posts/${a}`)).json(),{content:f,title:h,description:j,cover:u,category_id:v,category_name:x,author:g,updated_at:y}=_;r({content:f,title:h,description:j,cover:u,category_id:v,category_name:x,author:g,updated_at:y})}catch(n){console.error("Error fetching post:",n)}finally{i(!1)}}p()},[a]),!s.content)return t.jsx("div",{children:"加载中..."});const d=A(s.updated_at),l=B(d,"yyyy-MM-dd"),m=[S(),w(),I(),L(),V(),F(),R()];return t.jsxs("div",{className:e.detail,children:[t.jsx("div",{className:e.title,children:s.title}),t.jsxs("div",{className:e.info,children:[t.jsx("span",{className:e.author,children:s.author}),"|",t.jsx("span",{children:l})]}),t.jsx("div",{className:e.description,children:s.description}),t.jsx("div",{className:e.cover,children:s.cover&&s.cover.compressed&&t.jsx("img",{src:Z+"/"+s.cover.compressed.path,alt:""})}),t.jsx("div",{className:e.content,children:t.jsx("div",{className:"markdown-content",children:t.jsx(k,{value:s.content,plugins:m})})})]})}console.log("styles",c);function Q(){return t.jsxs("div",{children:[t.jsx(E,{}),t.jsx("div",{className:c.container,children:t.jsx(q,{})}),t.jsx(D,{})]})}export{Q as default};
