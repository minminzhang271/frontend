import{r as o,a as E,j as t}from"./index-CZMcSghI.js";import{H as D,F as w}from"./index-CkQU61nK.js";import{g as S,a as I,h as L,m as V,b as F,c as R,f as $,V as k}from"./index-CaQzLWPe.js";import{p as A,f as B}from"./parseISO-C7yGKLZ3.js";const H="_container_31r8k_1",r={container:H},M="_detail_sjpf8_1",P="_title_sjpf8_6",T="_info_sjpf8_15",U="_description_sjpf8_29",b="_cover_sjpf8_40",O="_content_sjpf8_51",s={detail:M,title:P,info:T,description:U,cover:b,content:O},Z={VITE_BASE_URL:"https://swdeep.cc"};let{VITE_BASE_URL:c}=Z;function q(){const[e,i]=o.useState({title:"",description:"",cover:null,content:"",category_id:0,category_name:"",author:"",updated_at:""}),[z,d]=o.useState(!0),{id:a}=E();if(o.useEffect(()=>{async function _(){try{const f=await(await fetch(`${c}/api/posts/${a}`)).json(),{content:j,title:h,description:u,cover:v,category_id:x,category_name:g,author:y,updated_at:N}=f;i({content:j,title:h,description:u,cover:v,category_id:x,category_name:g,author:y,updated_at:N})}catch(n){console.error("Error fetching post:",n)}finally{d(!1)}}_()},[a]),!e.content)return t.jsx("div",{children:"加载中..."});const l=A(e.updated_at),m=B(l,"yyyy-MM-dd"),p=[S(),I(),L(),V(),F(),R(),$()];return t.jsxs("div",{className:s.detail,children:[t.jsx("div",{className:s.title,children:e.title}),t.jsxs("div",{className:s.info,children:[t.jsx("span",{className:s.author,children:e.author}),"|",t.jsx("span",{children:m})]}),t.jsx("div",{className:s.description,children:e.description}),t.jsx("div",{className:s.cover,children:e.cover&&e.cover.compressed&&t.jsx("img",{src:c+"/"+e.cover.compressed.path,alt:""})}),t.jsx("div",{className:s.content,children:t.jsx("div",{className:"markdown-content",children:t.jsx(k,{value:e.content,plugins:p})})})]})}console.log("styles",r);function Q(){return t.jsxs("div",{children:[t.jsx(D,{}),t.jsx("div",{className:r.container,children:t.jsx(q,{})}),t.jsx(w,{})]})}export{Q as default};
